### Тестовое задание для разработчика на PHP

Мы ожидаем, что Вы:

* найдете и исправите все возможные ошибки (синтаксические, проектирования, безопасности и т.д.);
* отрефакторите код файла `ReturnOperation.php` в лучший по вашему мнению вид;
* напишите в комментарии краткое резюме по коду: назначение кода и его качество.

## Ответы

использовал php >=7.4 (для typehint-ов)

### Ответы на пункт 3

##### По качеству кода:

- код не структурированный
- много копипасты
- часто хромает нэйминг переменных (например ```$cr``` и ```$ex```)
- про ООП вообще забыли
- разная обработка ошибок: где-то через ```\Exception```, а где и вовсе ошибка
  возвращается как поле результирующего массива - обработка не удобна
- также огромная вложенность, где этого с легкостью можно было избежать

##### По назначению

По всей видимости, фрагмент кода используется для уведомлении о некоторых событиях
клиентов и сотрудников. Можно предположить, что события, к примеру, создания или редактирования некоторых сущностей
(судя по ```TYPE_NEW``` и ```TYPE_CHANGE```), но ничего конкретного о предмете уведомлений предположить не могу

